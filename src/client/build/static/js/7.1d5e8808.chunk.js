(this["webpackJsonpsurvey-console"]=this["webpackJsonpsurvey-console"]||[]).push([[7],{105:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return k}));t(0);var n,a,i,l,o,u=t(7),c=t(41),b=t.p+"static/media/poeya-logo.404cae44.png",d=t(38),p=t(39),s=t(107),g=t(108),j=t(113),f=p.a.div(n||(n=Object(d.a)(["\n  width: ",";\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  .card {\n    border-radius: ",";\n    box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175);\n  }\n"])),g.a.public.card.width,g.a.defaults.radius.xLarge),y=p.a.h5(a||(a=Object(d.a)(["\ntext-align:center;\ncolor: ",";\nfont-weight: normal;\nline-height: 20px;\nfont-size: ",";\n\n  }\n"])),s.a.cadetBlue,j.a.sm),O=p.a.h1(i||(i=Object(d.a)(["\ntext-align:center;\ncolor: ",";\nfont-weight: 600;\nfont-size: ",";\nline-height: 20px;\nmargin-bottom: 20px;\n  }\n"])),s.a.rihno,j.a.xl),m=p.a.div(l||(l=Object(d.a)(["\n  margin: 25px 0;\n"]))),v=p.a.img(o||(o=Object(d.a)(["\nborder-radius: 50%;\nmax-width: 70px;\npadding: 4px;\nmargin: -60px auto 0 auto;\ndisplay: block;\nbackground-color: ",";\n-webkit-box-shadow: 0px 0px 0px 2.25px #f1f5fa;\nbox-shadow: 0px 0px 0px 2.25px #f1f5fa;\n  }\n"])),s.a.white),h=t(43),x=t(109),q=t(121),w=t(125),F=t(110),I=t(120),S=t(116),T=t(124),E=t(4);function k(){var e=Object(c.b)(),r=Object(c.c)((function(e){return e.core.authState})).profile,t=Object(c.c)((function(e){return e.ui.formState})),n=t.requesting,a=t.errors,i=void 0===a?{}:a,l=Object(T.a)();function o(){if(!n){var r=l.formState,t=q.a.validateForm(r,Object(w.b)()),a=t.validForm,i=t.formErrors;l.setFormErrors(i),a&&e(Object(h.c)(r))}}if(Object(x.d)(r))return Object(E.jsx)(u.a,{to:"/"});var d=l.formErrors,p=l.handleChange;return Object(E.jsx)(I.h,{variant:"public",children:Object(E.jsx)(I.a,{variant:"public",children:Object(E.jsx)(f,{children:Object(E.jsxs)(S.e,{children:[Object(E.jsx)(v,{src:b,alt:""}),Object(E.jsxs)(I.d,{variant:"public",onSubmit:o,children:[Object(E.jsxs)(m,{children:[Object(E.jsx)(O,{children:F.c}),Object(E.jsx)(y,{children:Object(F.pb)()})]}),Object(E.jsxs)(I.d.Body,{variant:"public",children:[Object(E.jsx)(I.d.Group,{children:Object(E.jsx)(S.g,{fluid:!0,type:"email",name:"email",label:Object(F.w)(),required:!0,error:d.email||i.email,onChange:p})}),Object(E.jsx)(I.d.Group,{children:Object(E.jsx)(S.g,{fluid:!0,type:"password",name:"password",label:Object(F.cb)(),required:!0,error:d.password||i.password,onChange:p})})]}),Object(E.jsxs)(I.d.Footer,{children:[Object(E.jsx)(I.d.Group,{fluid:!0,children:Object(E.jsxs)(S.d,{fluid:!0,onClick:o,children:[Object(F.ob)(),Object(E.jsx)(S.h,{name:"login"})]})}),Object(E.jsxs)(I.d.Group,{variant:"inline",justify:"center",children:[Object(E.jsx)(S.t,{size:"sm",children:Object(F.m)()}),Object(E.jsx)(S.t.Label,{size:"sm",children:Object(F.U)()})]})]})]})]})})})})}},121:function(e,r,t){"use strict";var n=t(10),a=t(21),i=t(109),l=["property","label","type","fields","validate","required","minLength"];r.a={validateForm:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).currentIndex;return t.reduce((function(t,u){var c=t.validForm,b=t.formErrors,d=u.property,p=u.label,s=u.type,g=u.fields,j=u.validate,f=u.required,y=u.minLength,O=void 0===y?0:y,m=Object(a.a)(u,l),v=r[d];if("array"===s){(v||[Array(O).fill({})]).forEach((function(r,t){var n=e(r,g,{currentIndex:t});(c=c&&n.validForm)||(b[d]||(b[d]={}),b[d][t]=n.formErrors)}))}else{var h=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,a={validField:!0,errorMessageSuffix:""},l=r.type,o=r.dataType,u=r.pattern,c=r.required,b=void 0!==c&&c,d=r.currentIndex;if(function(e,r,t){var a=e.value,l=e.required,o=e.currentIndex,u="function"===typeof l?l(Object(n.a)(Object(n.a)({},t),{},{currentIndex:o})):l;u&&Object(i.f)(a)&&(r.validField=!1,r.errorMessageSuffix=" obligatoire")}({value:e,required:b,currentIndex:d},a,t),!a.validField||Object(i.f)(e))return a;l&&function(e,r,t){typeof e!==r&&(t.validField=!1,t.errorMessageSuffix=" non valide")}(e,l,a);o&&function(e,r,t){var n={email:i.i,phone:i.j};if(!r||!Object.keys(n).includes(r))return;n[r](e)||(t.validField=!1,t.errorMessageSuffix=" non valide")}(e,o,a);u&&function(e,r,t){r&&!r.test(e)&&(t.validField=!1,t.errorMessageSuffix=" est non valide")}(e,u,a);return a}(v,Object(n.a)({type:s,required:f,currentIndex:o},m),r),x=h.validField,q=h.errorMessageSuffix;c=c&&x,x||(b[d]=p.concat(q))}return j&&(c=c&&j(r,b)),{validForm:c,formErrors:b}}),{validForm:!0,formErrors:{}})},extractFormStateUpdates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={};return Object.keys(r).forEach((function(n){JSON.stringify(r[n])!==JSON.stringify(e[n])&&(t[n]=r[n])})),t}}},124:function(e,r,t){"use strict";var n=t(40),a=t(10),i=t(24),l=t(0),o=t(123);r.a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onSubmit,r=Object(l.useState)({}),t=Object(i.a)(r,2),u=t[0],c=t[1],b=Object(l.useState)({}),d=Object(i.a)(b,2),p=d[0],s=d[1],g=Object(l.useState)([]),j=Object(i.a)(g,2),f=j[0],y=j[1],O=Object(l.useState)(""),m=Object(i.a)(O,2),v=m[0],h=m[1],x=Object(l.useCallback)((function(e){var r=e.name,t=e.value;c((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(n.a)({},r,t))})),s((function(e){if(e[r]){var t=Object(o.a)(e);return delete t[r],t}return e}))})),q=Object(l.useCallback)((function(r){r&&r.preventDefault(),e(r)}),[]),w=Object(l.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(a.a)({},e);["id","created","updated","deleted","deletedAt"].forEach((function(e){return delete r[e]})),c((function(e){return Object(a.a)(Object(a.a)({},e),r)}))}),[]),F=Object(l.useCallback)((function(){c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),s({})}),[]);return{formState:u,formErrors:p,formDisabledFields:f,mode:v,setFormErrors:s,setFormDisabledFields:y,handleChange:x,handleSubmit:q,updateFormState:w,resetFormState:F,setMode:h}}},125:function(e,r,t){"use strict";t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return l})),t.d(r,"a",(function(){return u}));var n=t(111),a=t(110),i=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).language,r=void 0===e?n.f.FR:e;return[{property:"email",type:"string",label:Object(a.w)({language:r}),required:!0},{property:"password",type:"string",label:Object(a.cb)({language:r}),required:!0}]},l=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).language,r=void 0===e?n.f.FR:e;return[{property:"operationType",type:"string",label:Object(a.ab)({language:r}),required:!0},{property:"fullName",type:"string",label:Object(a.z)({language:r}),required:!0},{property:"buildingAge",type:"string",label:Object(a.g)({language:r}),required:!0},{property:"livingSpaceArea",type:"number",label:Object(a.C)({language:r}),required:!0},{property:"loftIncluded",type:"boolean",label:Object(a.F)({language:r}),required:!0},{property:"loftType",type:"string",label:Object(a.I)({language:r}),required:function(e){return e.loftIncluded}},{property:"loftArea",type:"number",label:Object(a.D)({language:r}),required:function(e){return e.loftIncluded}},{property:"loftInsulated",type:"boolean",label:Object(a.G)({language:r}),required:function(e){return e.loftIncluded}},{property:"loftInsulationPeriod",type:"string",label:Object(a.H)({language:r}),required:function(e){return e.loftInsulated}},{property:"loftComments",type:"string",label:Object(a.E)({language:r})},{property:"mprBeneficiary",type:"boolean",label:Object(a.T)({language:r}),required:!0},{property:"oneEuroBeneficiary",type:"boolean",label:Object(a.Z)({language:r}),required:!0},{property:"occupants",type:"array",required:!0,minLength:1,fields:[{property:"taxNoticeNumber",type:"string",label:Object(a.ub)({language:r}),required:function(e){return 0===e.currentIndex}},{property:"taxNoticeReference",type:"string",label:Object(a.vb)({language:r}),required:function(e){return 0===e.currentIndex}},{property:"referenceTaxIncome",type:"number",label:Object(a.jb)({language:r}),required:function(e){return 0===e.currentIndex}},{property:"birthDate",type:"object",label:Object(a.f)({language:r}),required:function(e){return 0===e.currentIndex}}]},{property:"numberOfDependents",type:"number",label:Object(a.X)({language:r}),required:!0},{property:"streetNumber",type:"string",label:Object(a.sb)({language:r}),required:!0},{property:"streetName",type:"string",label:Object(a.rb)({language:r}),required:!0},{property:"city",type:"string",label:Object(a.i)({language:r}),required:!0},{property:"postalCode",type:"string",label:Object(a.fb)({language:r}),required:!0},{property:"owningType",type:"string",label:Object(a.bb)({language:r}),required:!0},{property:"wallInsulationType",type:"string",label:Object(a.xb)({language:r}),required:!0},{property:"heatingType",type:"string",label:Object(a.A)({language:r}),required:!0},{property:"oilHeatingTypeBoiler",type:"boolean",label:Object(a.Y)({language:r}),required:function(e){return e.heatingType===n.c.GAS}},{property:"waterHeatingType",type:"string",label:Object(a.yb)({language:r}),required:!0},{property:"waterHeatingTypeSpecified",type:"string",label:Object(a.zb)({language:r})},{property:"basementIncluded",type:"boolean",label:Object(a.e)({language:r}),required:!0},{property:"lowFloorInsulationPeriod",type:"string",label:Object(a.J)({language:r}),required:function(e){return e.basementIncluded}},{property:"basementAreaForBoiler",type:"boolean",label:Object(a.d)({language:r}),required:function(e){return e.basementIncluded}},{property:"radiatorType",type:"string",label:Object(a.hb)({language:r})},{property:"fireplaceIncluded",type:"boolean",label:Object(a.x)({language:r}),required:!0},{property:"phone",type:"string",dataType:"phone",label:Object(a.eb)({language:r}),required:!0},{property:"comments",type:"string",label:Object(a.j)({language:r})}]},o=t(109),u=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).language,r=void 0===e?n.f.FR:e;return[{property:"lastName",type:"string",label:Object(a.B)({language:r}),required:!0},{property:"firstName",type:"string",label:Object(a.y)({language:r}),required:!0},{property:"role",type:"string",label:Object(a.kb)({language:r}),required:!0},{property:"email",type:"string",dataType:"email",label:Object(a.w)({language:r}),required:!0},{property:"password",type:"string",label:Object(a.cb)({language:r}),required:!0},{property:"confirmPassword",type:"string",label:Object(a.l)({language:r}),required:!0,validate:function(e){var t=e.password,n=e.confirmPassword,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Object(o.e)(t)&&Object(o.e)(n)&&t===n;return l||(i.confirmPassword=Object(a.db)({language:r})),l}}]}}}]);
//# sourceMappingURL=7.1d5e8808.chunk.js.map
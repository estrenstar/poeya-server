{"version":3,"sources":["_helpers/account.helper.js","components/pages/accounts/Accounts.styled.js","components/pages/accounts/core/AccountsHeader.js","components/pages/accounts/core/AccountsBody.js","components/pages/accounts/core/AccountForm.js","components/pages/accounts/Accounts.js","_helpers/formValidator.helper.js","components/hooks/useForm.js","_helpers/form_fields_descriptors/signInForm.js","_helpers/form_fields_descriptors/surveyForm.js","_helpers/form_fields_descriptors/accountForm.js","components/hooks/useDisclosure.js"],"names":["translateRole","role","_ROLES$ADMINISTRATOR$","_defineProperty","ROLES","ADMINISTRATOR","OPERATOR","getRoleColorScheme","_ROLES$ADMINISTRATOR$2","formatAccountsForTable","accounts","profile","isNullishOrEmpty","filter","account","id","styled","div","_templateObject","_taggedTemplateLiteral","AccountsHeader","_ref","_ref$accounts","onOpenCreateAccountForm","_jsx","_Fragment","children","_jsxs","MainCard","Header","Text","Title","LABELS_ACCOUNTS","Body","Stack","spacing","Statistic","variant","label","LABEL_TOTAL","value","length","Footer","Button","onClick","LABEL_CREATE_ACCOUNT","AccountsBody","_ref$requesting","requesting","onDeleteAccount","Card","Table","columns","title","LABEL_FULL_NAME","key","dataIndex","sortable","LABEL_CREATED_AT","dataType","LABEL_EMAIL","LABEL_ROLE","formatter","accountHelper","render","_ref2","Badge","colorScheme","noDataMessage","LABEL_NO_ACCOUNTS","dataSource","actions","icon","Icon","name","LABEL_MENU_ACTION_DELETE","AccountForm","mode","formState","formErrors","onChange","onSubmit","useDispatch","state","ui","Form","Group","Field","fluid","type","LABEL_LAST_NAME","defaultValue","lastName","error","LABEL_FIRST_NAME","firstName","LABEL_SELECT_ROLE","options","formatSelectOptions","defaultOption","toSelectOption","disabled","FORM_MODES","EDITION","email","LABEL_PASSWORD","password","LABEL_CONFIRM_PASSWORD","confirmPassword","LABEL_SAVE","Accounts","dispatch","_useSelector","useSelector","core","accountsState","authState","accountModal","useDisclosure","accountForm","useForm","_useAlert","useAlert","showAlert","hideAlert","_useState","useState","_useState2","_slicedToArray","selectedAccount","setSelectedAccount","useEffect","getAccounts","HomeContainer","AccountsStyled","arguments","undefined","setMode","resetFormState","handleShow","openAccountModal","CREATION","Divider","message","LABEL_DELETE_ACCOUNT","deleteAccount","accountId","processDeleteAccount","LABEL_DELETE","shown","Modal","MODAL_TITLE_SURVEY","onHide","handleHide","handleChange","isNonEmptyObject","_formValidatorHelper$","formValidatorHelper","validateForm","accountFormFieldsDescriptor","validForm","setFormErrors","createAccount","_objectSpread","deletable","onAccountCreated","processCreateAccount","formFields","currentIndex","reduce","_ref3","property","fields","validate","required","_ref3$minLength","minLength","restProps","_objectWithoutProperties","_excluded","Array","fill","forEach","item","index","fieldValidationResult","_validateFieldValue","field","fieldValidation","validField","errorMessageSuffix","pattern","_field$required","_ref4","valueRequired","validateValueRequirement","validateValueType","dataTypeValidationStrategies","isValidEmail","phone","isValidPhone","Object","keys","includes","validateValueDataType","test","validateValuePattern","validateFieldValue","concat","extractFormStateUpdates","source","updates","JSON","stringify","setFormState","_useState3","_useState4","_useState5","_useState6","formDisabledFields","setFormDisabledFields","_useState7","_useState8","useCallback","currentFormState","currentFormErrors","clone","cloneObject","handleSubmit","evt","preventDefault","updateFormState","formStateUpdates","clonedStateUpdates","_ref$language","language","LANGUAGES","FR","LABEL_OPERATION_TYPE","LABEL_BUILDING_AGE","LABEL_LIVING_SPACE_AREA","LABEL_LOFT_INCLUDED","LABEL_LOFT_TYPE","loftIncluded","LABEL_LOFT_AREA","LABEL_LOFT_INSULATED","LABEL_LOFT_INSULATION_PERIOD","_ref5","loftInsulated","LABEL_LOFT_COMMENTS","LABEL_MPR_BENEFICIARY","LABEL_ONE_EURO_BENEFICIARY","LABEL_TAX_NOTICE_NUMBER","_ref6","LABEL_TAX_NOTICE_REFERENCE","_ref7","LABEL_REFERENCE_TAX_INCOME","_ref8","LABEL_BIRTHDATE","_ref9","LABEL_NUMBER_OF_DEPENDENTS","LABEL_STREET_NUMBER","LABEL_STREET_NAME","LABEL_CITY","LABEL_POSTAL_CODE","LABEL_OWNING_TYPE","LABEL_WALL_INSULATION_TYPE","LABEL_HEATING_TYPE","LABEL_OIL_HEATING_TYPE_BOILER","_ref10","heatingType","HEATING_TYPES","GAS","LABEL_WATER_HEATING_TYPE","LABEL_WATER_HEATING_TYPE_SPECIFIED","LABEL_BASEMENT_INCLUDED","LABEL_LOW_FLOOR_INSULATION_PERIOD","_ref11","basementIncluded","LABEL_BASEMENT_AREA_FOR_BOILER","_ref12","LABEL_RADIATOR_TYPE","LABEL_FIREPLACE_INCLUDED","LABEL_PHONE_NUMBER","LABEL_COMMENTS","samePasswords","isNonEmptyString","LABEL_PASSWORDS_ARE_DIFFERENT","_ref$initialTitle","initialTitle","setShown","setTitle"],"mappings":"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","file":"static/js/5.4ab86644.chunk.js","sourcesContent":["import { isNullishOrEmpty } from './dataValidator.helper';\nimport { ROLES } from './enums';\n\nfunction translateRole(role) {\n  return { [ROLES.ADMINISTRATOR]: 'Administrateur', [ROLES.OPERATOR]: 'OpÃ©rateur' }[role];\n}\n\nfunction getRoleColorScheme(role) {\n  return { [ROLES.ADMINISTRATOR]: 'green', [ROLES.OPERATOR]: 'gray' }[role];\n}\n\nfunction formatAccountsForTable(accounts, profile) {\n  if (isNullishOrEmpty(profile) || isNullishOrEmpty(accounts)) return accounts;\n\n  return accounts.filter((account) => account.id !== profile.id);\n}\n\nexport default { translateRole, getRoleColorScheme, formatAccountsForTable };\n","import styled from 'styled-components';\n\nexport default styled.div``;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { LABELS_ACCOUNTS, LABEL_CREATE_ACCOUNT, LABEL_TOTAL } from '../../../../_helpers/labels';\n\nimport { Button, MainCard, Stack, Statistic, Text } from '../../../library';\n\nexport default function AccountsHeader({ accounts = [], onOpenCreateAccountForm }) {\n  return (\n    <>\n      <MainCard>\n        <MainCard.Header>\n          <Text.Title>{LABELS_ACCOUNTS()}</Text.Title>\n        </MainCard.Header>\n        <MainCard.Body>\n          <Stack spacing={1.5}>\n            <Statistic variant=\"default\" label={LABEL_TOTAL()} value={accounts.length} />\n          </Stack>\n        </MainCard.Body>\n        <MainCard.Footer>\n          <Button onClick={onOpenCreateAccountForm}>{LABEL_CREATE_ACCOUNT()}</Button>\n        </MainCard.Footer>\n      </MainCard>\n    </>\n  );\n}\nAccountsHeader.propTypes = {\n  accounts: PropTypes.arrayOf(PropTypes.shape({})),\n  onOpenCreateAccountForm: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport accountHelper from '../../../../_helpers/account.helper';\nimport { LABEL_CREATED_AT, LABEL_EMAIL, LABEL_FULL_NAME, LABEL_MENU_ACTION_DELETE, LABEL_NO_ACCOUNTS, LABEL_ROLE } from '../../../../_helpers/labels';\n\nimport { Badge, Card, Icon, Table } from '../../../library';\n\nexport default function AccountsBody({ accounts = [], requesting = false, onDeleteAccount }) {\n  return (\n    <Card>\n      <Table\n        columns={[\n          {\n            title: LABEL_FULL_NAME(),\n            key: 'fullName',\n            dataIndex: 'fullName',\n            sortable: true,\n          },\n          {\n            title: LABEL_CREATED_AT(),\n            key: 'createdAt',\n            dataIndex: 'createdAt',\n            dataType: 'date',\n            sortable: true,\n          },\n          {\n            title: LABEL_EMAIL(),\n            key: 'email',\n            dataIndex: 'email',\n          },\n          {\n            title: LABEL_ROLE(),\n            key: 'role',\n            dataIndex: 'role',\n            sortable: true,\n            formatter: accountHelper.translateRole,\n            render: ({ role }) => <Badge colorScheme={accountHelper.getRoleColorScheme(role)}>{accountHelper.translateRole(role)}</Badge>,\n          },\n        ]}\n        noDataMessage={LABEL_NO_ACCOUNTS()}\n        dataSource={accounts}\n        requesting={requesting}\n        actions={[{ icon: <Icon name=\"delete\" />, label: LABEL_MENU_ACTION_DELETE(), onClick: onDeleteAccount }]}\n      />\n    </Card>\n  );\n}\nAccountsBody.propTypes = {\n  accounts: PropTypes.arrayOf(PropTypes.shape({})),\n  requesting: PropTypes.bool,\n  onDeleteAccount: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { FORM_MODES, ROLES } from '../../../../_helpers/enums';\nimport { LABEL_CONFIRM_PASSWORD, LABEL_EMAIL, LABEL_FIRST_NAME, LABEL_LAST_NAME, LABEL_PASSWORD, LABEL_SAVE, LABEL_SELECT_ROLE } from '../../../../_helpers/labels';\nimport { formPropTypes } from '../../../../_helpers/propTypes.schemas';\nimport { formatSelectOptions, toSelectOption } from '../../../../_helpers/library.helper';\n\nimport { Form } from '../../../helpers';\nimport { Button, Field } from '../../../library';\n\nexport default function AccountForm({ mode, formState, formErrors, onChange, onSubmit }) {\n  const { requesting } = useDispatch((state) => state.ui.formState);\n\n  function handleSubmit() {\n    if (requesting) return;\n    onSubmit();\n  }\n\n  return (\n    <Form>\n      <Form.Body>\n        <Form.Group>\n          <Field fluid type=\"text\" name=\"lastName\" label={LABEL_LAST_NAME()} defaultValue={formState.lastName} error={formErrors.lastName} onChange={onChange} />\n        </Form.Group>\n        <Form.Group>\n          <Field fluid type=\"text\" name=\"firstName\" label={LABEL_FIRST_NAME()} defaultValue={formState.firstName} error={formErrors.firstName} onChange={onChange} />\n        </Form.Group>\n        <Form.Group>\n          <Field\n            fluid\n            type=\"select\"\n            name=\"role\"\n            label={LABEL_SELECT_ROLE()}\n            options={formatSelectOptions(ROLES)}\n            defaultOption={toSelectOption(formState.role)}\n            error={formErrors.role}\n            disabled={mode === FORM_MODES.EDITION}\n            onChange={onChange}\n          />\n        </Form.Group>\n        <Form.Group>\n          <Field fluid type=\"email\" name=\"email\" label={LABEL_EMAIL()} defaultValue={formState.email} error={formErrors.email} onChange={onChange} />\n        </Form.Group>\n        <Form.Group>\n          <Field fluid type=\"password\" name=\"password\" label={LABEL_PASSWORD()} defaultValue={formState.password} error={formErrors.password} onChange={onChange} />\n        </Form.Group>\n        <Form.Group>\n          <Field\n            fluid\n            type=\"password\"\n            name=\"confirmPassword\"\n            label={LABEL_CONFIRM_PASSWORD()}\n            defaultValue={formState.confirmPassword}\n            error={formErrors.confirmPassword}\n            onChange={onChange}\n          />\n        </Form.Group>\n      </Form.Body>\n\n      <Form.Footer>\n        <Form.Group>\n          <Button disabled={requesting} colorScheme=\"secondary\" onClick={handleSubmit}>\n            {LABEL_SAVE()}\n          </Button>\n        </Form.Group>\n      </Form.Footer>\n    </Form>\n  );\n}\nAccountForm.propTypes = formPropTypes;\n","import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { createAccount, deleteAccount, getAccounts } from '../../../store/accounts/accounts.slice';\nimport { FORM_MODES } from '../../../_helpers/enums';\nimport { LABEL_DELETE, LABEL_DELETE_ACCOUNT, MODAL_TITLE_SURVEY } from '../../../_helpers/labels';\nimport { isNonEmptyObject } from '../../../_helpers/dataValidator.helper';\nimport formValidatorHelper from '../../../_helpers/formValidator.helper';\nimport { accountFormFieldsDescriptor } from '../../../_helpers/form_fields_descriptors';\nimport accountHelper from '../../../_helpers/account.helper';\n\nimport { Divider, HomeContainer } from '../../helpers';\nimport AccountsStyled from './Accounts.styled';\nimport AccountsHeader from './core/AccountsHeader';\nimport AccountsBody from './core/AccountsBody';\nimport useDisclosure from '../../hooks/useDisclosure';\nimport useForm from '../../hooks/useForm';\nimport { Button, Modal } from '../../library';\nimport AccountForm from './core/AccountForm';\nimport useAlert from '../../hooks/useAlert';\n\nfunction Accounts() {\n  const dispatch = useDispatch();\n  const { accounts, requesting } = useSelector((state) => state.core.accountsState);\n  const { profile } = useSelector((state) => state.core.authState);\n  const accountModal = useDisclosure();\n  const accountForm = useForm();\n  const { showAlert, hideAlert } = useAlert();\n  const [selectedAccount, setSelectedAccount] = useState({});\n\n  useEffect(() => {\n    dispatch(getAccounts());\n  }, [dispatch]);\n\n  function handleCreateAccount() {\n    setSelectedAccount({});\n    openAccountModal({}, { mode: FORM_MODES.CREATION });\n  }\n\n  function openAccountModal(account = {}, { mode } = {}) {\n    accountForm.setMode(mode);\n    accountForm.resetFormState(account);\n    accountModal.handleShow();\n  }\n\n  function handleDeleteAccount(account) {\n    showAlert({\n      message: LABEL_DELETE_ACCOUNT({ account }),\n      actions: (\n        <Button colorScheme=\"red\" onClick={() => processDeleteAccount(account)}>\n          {LABEL_DELETE()}\n        </Button>\n      ),\n    });\n  }\n\n  function handleSubmit() {\n    if (isNonEmptyObject(selectedAccount)) return;\n    processCreateAccount();\n  }\n\n  function processCreateAccount() {\n    const { formState } = accountForm;\n    const { validForm, formErrors } = formValidatorHelper.validateForm(formState, accountFormFieldsDescriptor());\n    accountForm.setFormErrors(formErrors);\n    if (validForm) dispatch(createAccount({ formState: { ...formState, deletable: true }, onAccountCreated: accountModal.handleHide }));\n  }\n\n  function processDeleteAccount(account) {\n    hideAlert();\n    dispatch(deleteAccount({ accountId: account.id }));\n  }\n\n  return (\n    <HomeContainer>\n      <AccountsStyled>\n        <AccountsHeader accounts={accounts} onOpenCreateAccountForm={handleCreateAccount} />\n\n        <Divider />\n\n        <AccountsBody accounts={accountHelper.formatAccountsForTable(accounts, profile)} requesting={requesting} onDeleteAccount={handleDeleteAccount} />\n      </AccountsStyled>\n\n      {accountModal.shown && (\n        <Modal shown title={MODAL_TITLE_SURVEY()} onHide={accountModal.handleHide}>\n          <AccountForm mode={accountForm.mode} formState={accountForm.formState} formErrors={accountForm.formErrors} onChange={accountForm.handleChange} onSubmit={handleSubmit} />\n        </Modal>\n      )}\n    </HomeContainer>\n  );\n}\n\nexport default Accounts;\n","import { isNullishOrEmpty, isValidEmail, isValidPhone } from './dataValidator.helper';\n\nfunction validateForm(formState = {}, formFields = [], { currentIndex } = {}) {\n  return formFields.reduce(\n    ({ validForm, formErrors }, { property, label, type, fields, validate, required, minLength = 0, ...restProps }) => {\n      const value = formState[property];\n      if (type === 'array') {\n        const arrayValue = value || [Array(minLength).fill({})];\n        arrayValue.forEach((item, index) => {\n          const fieldValidationResult = validateForm(item, fields, { currentIndex: index });\n          validForm = validForm && fieldValidationResult.validForm;\n          if (!validForm) {\n            if (!formErrors[property]) formErrors[property] = {};\n            formErrors[property][index] = fieldValidationResult.formErrors;\n          }\n        });\n      } else {\n        const { validField, errorMessageSuffix } = validateFieldValue(value, { type, required, currentIndex, ...restProps }, formState);\n        validForm = validForm && validField;\n        if (!validField) formErrors[property] = label.concat(errorMessageSuffix);\n      }\n      if (validate) {\n        validForm = validForm && validate(formState, formErrors);\n      }\n\n      return { validForm, formErrors };\n    },\n    { validForm: true, formErrors: {} }\n  );\n}\n\nfunction validateFieldValue(value, field = {}, formState) {\n  const fieldValidation = { validField: true, errorMessageSuffix: '' };\n  const { type, dataType, pattern, required = false, currentIndex } = field;\n\n  validateValueRequirement({ value, required, currentIndex }, fieldValidation, formState);\n  if (!fieldValidation.validField || isNullishOrEmpty(value)) return fieldValidation;\n\n  if (type) validateValueType(value, type, fieldValidation);\n  if (dataType) validateValueDataType(value, dataType, fieldValidation);\n  if (pattern) validateValuePattern(value, pattern, fieldValidation);\n\n  return fieldValidation;\n}\n\nfunction validateValueRequirement({ value, required, currentIndex }, fieldValidation, formState) {\n  const valueRequired = typeof required === 'function' ? required({ ...formState, currentIndex }) : required;\n  if (valueRequired && isNullishOrEmpty(value)) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' obligatoire';\n  }\n}\n\nfunction validateValueType(value, type, fieldValidation) {\n  if (typeof value !== type) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' non valide';\n  }\n}\n\nfunction validateValueDataType(value, dataType, fieldValidation) {\n  const dataTypeValidationStrategies = { email: isValidEmail, phone: isValidPhone };\n  if (!dataType || !Object.keys(dataTypeValidationStrategies).includes(dataType)) return;\n  if (!dataTypeValidationStrategies[dataType](value)) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' non valide';\n  }\n}\n\nfunction validateValuePattern(value, pattern, fieldValidation) {\n  if (pattern && !pattern.test(value)) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' est non valide';\n  }\n}\n\nfunction extractFormStateUpdates(source = {}, formState = {}) {\n  const updates = {};\n  Object.keys(formState).forEach((property) => {\n    if (JSON.stringify(formState[property]) !== JSON.stringify(source[property])) {\n      updates[property] = formState[property];\n    }\n  });\n\n  return updates;\n}\n\nexport default { validateForm, extractFormStateUpdates };\n","import { useState, useCallback } from 'react';\nimport { cloneObject } from '../../_helpers/types.helper';\n\nexport default function ({ onSubmit } = {}) {\n  const [formState, setFormState] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const [formDisabledFields, setFormDisabledFields] = useState([]);\n  const [mode, setMode] = useState('');\n\n  const handleChange = useCallback(({ name, value }) => {\n    setFormState((currentFormState) => ({\n      ...currentFormState,\n      [name]: value,\n    }));\n    setFormErrors((currentFormErrors) => {\n      if (currentFormErrors[name]) {\n        const clone = cloneObject(currentFormErrors);\n        delete clone[name];\n\n        return clone;\n      }\n\n      return currentFormErrors;\n    });\n  });\n\n  const handleSubmit = useCallback((evt) => {\n    if (evt) evt.preventDefault();\n    onSubmit(evt);\n  }, []);\n\n  const updateFormState = useCallback((formStateUpdates = {}) => {\n    const clonedStateUpdates = { ...formStateUpdates };\n    const fieldsToDelete = ['id', 'created', 'updated', 'deleted', 'deletedAt'];\n    fieldsToDelete.forEach((field) => delete clonedStateUpdates[field]);\n    setFormState((currentFormState) => ({ ...currentFormState, ...clonedStateUpdates }));\n  }, []);\n\n  const resetFormState = useCallback((formStateUpdates = {}) => {\n    setFormState(formStateUpdates);\n    setFormErrors({});\n  }, []);\n\n  return {\n    formState,\n    formErrors,\n    formDisabledFields,\n    mode,\n    setFormErrors,\n    setFormDisabledFields,\n    handleChange,\n    handleSubmit,\n    updateFormState,\n    resetFormState,\n    setMode,\n  };\n}\n","import { LANGUAGES } from '../enums';\nimport { LABEL_EMAIL, LABEL_PASSWORD } from '../labels';\n\nexport default function ({ language = LANGUAGES.FR } = {}) {\n  return [\n    {\n      property: 'email',\n      type: 'string',\n      label: LABEL_EMAIL({ language }),\n      required: true,\n    },\n    {\n      property: 'password',\n      type: 'string',\n      label: LABEL_PASSWORD({ language }),\n      required: true,\n    },\n  ];\n}\n","import { HEATING_TYPES, LANGUAGES } from '../enums';\nimport {\n  LABEL_BASEMENT_AREA_FOR_BOILER,\n  LABEL_BASEMENT_INCLUDED,\n  LABEL_BIRTHDATE,\n  LABEL_BUILDING_AGE,\n  LABEL_CITY,\n  LABEL_COMMENTS,\n  LABEL_FIREPLACE_INCLUDED,\n  LABEL_FULL_NAME,\n  LABEL_HEATING_TYPE,\n  LABEL_LIVING_SPACE_AREA,\n  LABEL_LOFT_AREA,\n  LABEL_LOFT_COMMENTS,\n  LABEL_LOFT_INCLUDED,\n  LABEL_LOFT_INSULATED,\n  LABEL_LOFT_INSULATION_PERIOD,\n  LABEL_LOFT_TYPE,\n  LABEL_LOW_FLOOR_INSULATION_PERIOD,\n  LABEL_MPR_BENEFICIARY,\n  LABEL_NUMBER_OF_DEPENDENTS,\n  LABEL_OIL_HEATING_TYPE_BOILER,\n  LABEL_ONE_EURO_BENEFICIARY,\n  LABEL_OPERATION_TYPE,\n  LABEL_OWNING_TYPE,\n  LABEL_PHONE_NUMBER,\n  LABEL_POSTAL_CODE,\n  LABEL_RADIATOR_TYPE,\n  LABEL_REFERENCE_TAX_INCOME,\n  LABEL_STREET_NAME,\n  LABEL_STREET_NUMBER,\n  LABEL_TAX_NOTICE_NUMBER,\n  LABEL_TAX_NOTICE_REFERENCE,\n  LABEL_WALL_INSULATION_TYPE,\n  LABEL_WATER_HEATING_TYPE,\n  LABEL_WATER_HEATING_TYPE_SPECIFIED,\n} from '../labels';\n\nexport default function ({ language = LANGUAGES.FR } = {}) {\n  return [\n    {\n      property: 'operationType',\n      type: 'string',\n      label: LABEL_OPERATION_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'fullName',\n      type: 'string',\n      label: LABEL_FULL_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'buildingAge',\n      type: 'string',\n      label: LABEL_BUILDING_AGE({ language }),\n      required: true,\n    },\n    {\n      property: 'livingSpaceArea',\n      type: 'number',\n      label: LABEL_LIVING_SPACE_AREA({ language }),\n      required: true,\n    },\n    {\n      property: 'loftIncluded',\n      type: 'boolean',\n      label: LABEL_LOFT_INCLUDED({ language }),\n      required: true,\n    },\n    {\n      property: 'loftType',\n      type: 'string',\n      label: LABEL_LOFT_TYPE({ language }),\n      required({ loftIncluded }) {\n        return loftIncluded;\n      },\n    },\n    {\n      property: 'loftArea',\n      type: 'number',\n      label: LABEL_LOFT_AREA({ language }),\n      required({ loftIncluded }) {\n        return loftIncluded;\n      },\n    },\n    {\n      property: 'loftInsulated',\n      type: 'boolean',\n      label: LABEL_LOFT_INSULATED({ language }),\n      required({ loftIncluded }) {\n        return loftIncluded;\n      },\n    },\n    {\n      property: 'loftInsulationPeriod',\n      type: 'string',\n      label: LABEL_LOFT_INSULATION_PERIOD({ language }),\n      required({ loftInsulated }) {\n        return loftInsulated;\n      },\n    },\n    {\n      property: 'loftComments',\n      type: 'string',\n      label: LABEL_LOFT_COMMENTS({ language }),\n    },\n    {\n      property: 'mprBeneficiary',\n      type: 'boolean',\n      label: LABEL_MPR_BENEFICIARY({ language }),\n      required: true,\n    },\n    {\n      property: 'oneEuroBeneficiary',\n      type: 'boolean',\n      label: LABEL_ONE_EURO_BENEFICIARY({ language }),\n      required: true,\n    },\n    {\n      property: 'occupants',\n      type: 'array',\n      required: true,\n      minLength: 1,\n      fields: [\n        {\n          property: 'taxNoticeNumber',\n          type: 'string',\n          label: LABEL_TAX_NOTICE_NUMBER({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n        {\n          property: 'taxNoticeReference',\n          type: 'string',\n          label: LABEL_TAX_NOTICE_REFERENCE({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n        {\n          property: 'referenceTaxIncome',\n          type: 'number',\n          label: LABEL_REFERENCE_TAX_INCOME({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n        {\n          property: 'birthDate',\n          type: 'object',\n          label: LABEL_BIRTHDATE({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n      ],\n    },\n    {\n      property: 'numberOfDependents',\n      type: 'number',\n      label: LABEL_NUMBER_OF_DEPENDENTS({ language }),\n      required: true,\n    },\n    {\n      property: 'streetNumber',\n      type: 'string',\n      label: LABEL_STREET_NUMBER({ language }),\n      required: true,\n    },\n    {\n      property: 'streetName',\n      type: 'string',\n      label: LABEL_STREET_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'city',\n      type: 'string',\n      label: LABEL_CITY({ language }),\n      required: true,\n    },\n    {\n      property: 'postalCode',\n      type: 'string',\n      label: LABEL_POSTAL_CODE({ language }),\n      required: true,\n    },\n    {\n      property: 'owningType',\n      type: 'string',\n      label: LABEL_OWNING_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'wallInsulationType',\n      type: 'string',\n      label: LABEL_WALL_INSULATION_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'heatingType',\n      type: 'string',\n      label: LABEL_HEATING_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'oilHeatingTypeBoiler',\n      type: 'boolean',\n      label: LABEL_OIL_HEATING_TYPE_BOILER({ language }),\n      required({ heatingType }) {\n        return heatingType === HEATING_TYPES.GAS;\n      },\n    },\n    {\n      property: 'waterHeatingType',\n      type: 'string',\n      label: LABEL_WATER_HEATING_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'waterHeatingTypeSpecified',\n      type: 'string',\n      label: LABEL_WATER_HEATING_TYPE_SPECIFIED({ language }),\n    },\n    {\n      property: 'basementIncluded',\n      type: 'boolean',\n      label: LABEL_BASEMENT_INCLUDED({ language }),\n      required: true,\n    },\n    {\n      property: 'lowFloorInsulationPeriod',\n      type: 'string',\n      label: LABEL_LOW_FLOOR_INSULATION_PERIOD({ language }),\n      required({ basementIncluded }) {\n        return basementIncluded;\n      },\n    },\n    {\n      property: 'basementAreaForBoiler',\n      type: 'boolean',\n      label: LABEL_BASEMENT_AREA_FOR_BOILER({ language }),\n      required({ basementIncluded }) {\n        return basementIncluded;\n      },\n    },\n    {\n      property: 'radiatorType',\n      type: 'string',\n      label: LABEL_RADIATOR_TYPE({ language }),\n    },\n    {\n      property: 'fireplaceIncluded',\n      type: 'boolean',\n      label: LABEL_FIREPLACE_INCLUDED({ language }),\n      required: true,\n    },\n    {\n      property: 'phone',\n      type: 'string',\n      dataType: 'phone',\n      label: LABEL_PHONE_NUMBER({ language }),\n      required: true,\n    },\n    {\n      property: 'comments',\n      type: 'string',\n      label: LABEL_COMMENTS({ language }),\n    },\n  ];\n}\n","import { isNonEmptyString } from '../dataValidator.helper';\nimport { LANGUAGES } from '../enums';\nimport { LABEL_CONFIRM_PASSWORD, LABEL_EMAIL, LABEL_FIRST_NAME, LABEL_LAST_NAME, LABEL_PASSWORD, LABEL_PASSWORDS_ARE_DIFFERENT, LABEL_ROLE } from '../labels';\n\nexport default function ({ language = LANGUAGES.FR } = {}) {\n  return [\n    {\n      property: 'lastName',\n      type: 'string',\n      label: LABEL_LAST_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'firstName',\n      type: 'string',\n      label: LABEL_FIRST_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'role',\n      type: 'string',\n      label: LABEL_ROLE({ language }),\n      required: true,\n    },\n    {\n      property: 'email',\n      type: 'string',\n      dataType: 'email',\n      label: LABEL_EMAIL({ language }),\n      required: true,\n    },\n    {\n      property: 'password',\n      type: 'string',\n      label: LABEL_PASSWORD({ language }),\n      required: true,\n    },\n    {\n      property: 'confirmPassword',\n      type: 'string',\n      label: LABEL_CONFIRM_PASSWORD({ language }),\n      required: true,\n      validate({ password, confirmPassword }, formErrors = {}) {\n        const samePasswords = isNonEmptyString(password) && isNonEmptyString(confirmPassword) && password === confirmPassword;\n        if (!samePasswords) formErrors.confirmPassword = LABEL_PASSWORDS_ARE_DIFFERENT({ language });\n\n        return samePasswords;\n      },\n    },\n  ];\n}\n","import { useCallback, useState } from 'react';\n\nexport default function ({ initialTitle = '' } = {}) {\n  const [shown, setShown] = useState(false);\n  const [title, setTitle] = useState(initialTitle);\n\n  const handleShow = useCallback(() => {\n    setShown(true);\n  }, []);\n\n  const handleHide = useCallback(() => {\n    setShown(false);\n  }, []);\n\n  return {\n    shown,\n    title,\n    setTitle,\n    handleShow,\n    handleHide,\n  };\n}\n"],"sourceRoot":""}
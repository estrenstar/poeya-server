{"version":3,"sources":["components/pages/sign_in/assets/poeya-logo.png","components/pages/sign_in/SignIn.styled.js","components/pages/sign_in/SignIn.js","_helpers/formValidator.helper.js","components/hooks/useForm.js","_helpers/form_fields_descriptors/signInForm.js","_helpers/form_fields_descriptors/surveyForm.js","_helpers/form_fields_descriptors/accountForm.js"],"names":["AuthWrapper","styled","div","_templateObject","_taggedTemplateLiteral","dimensions","public","card","width","defaults","radius","xLarge","AuthSubTitle","h5","_templateObject2","colors","cadetBlue","fontSizes","sm","AuthTitle","h1","_templateObject3","rihno","xl","AuthHeader","_templateObject4","AuthLogo","img","_templateObject5","white","SignIn","dispatch","useDispatch","profile","useSelector","state","core","authState","_useSelector2","ui","formState","requesting","_useSelector2$errors","errors","signInForm","useForm","handleSubmit","_formValidatorHelper$","formValidatorHelper","validateForm","signInFormFieldsDescriptor","validForm","formErrors","setFormErrors","signIn","isNonEmptyObject","_jsx","Redirect","to","handleChange","Viewport","variant","children","Container","_jsxs","Card","src","poeyaLogo","alt","Form","onSubmit","LABEL_APP_NAME","LABEL_SIGN_IN_SUB_TITLE","Body","Group","Field","fluid","type","name","label","LABEL_EMAIL","required","error","email","onChange","LABEL_PASSWORD","password","Footer","Button","onClick","LABEL_SIGN_IN","Icon","justify","Text","size","LABEL_CONTACT_ADMINISTRATOR","Label","LABEL_NOT_YET_REGISTERED","arguments","length","undefined","formFields","currentIndex","reduce","_ref2","_ref3","property","fields","validate","_ref3$minLength","minLength","restProps","_objectWithoutProperties","_excluded","value","Array","fill","forEach","item","index","fieldValidationResult","_validateFieldValue","field","fieldValidation","validField","errorMessageSuffix","dataType","pattern","_field$required","_ref4","valueRequired","_objectSpread","isNullishOrEmpty","validateValueRequirement","validateValueType","dataTypeValidationStrategies","isValidEmail","phone","isValidPhone","Object","keys","includes","validateValueDataType","test","validateValuePattern","validateFieldValue","concat","extractFormStateUpdates","source","updates","JSON","stringify","_useState","useState","_useState2","_slicedToArray","setFormState","_useState3","_useState4","_useState5","_useState6","formDisabledFields","setFormDisabledFields","_useState7","_useState8","mode","setMode","useCallback","currentFormState","_defineProperty","currentFormErrors","clone","cloneObject","evt","preventDefault","updateFormState","formStateUpdates","clonedStateUpdates","resetFormState","_ref$language","language","LANGUAGES","FR","LABEL_OPERATION_TYPE","LABEL_FULL_NAME","LABEL_BUILDING_AGE","LABEL_LIVING_SPACE_AREA","LABEL_LOFT_INCLUDED","LABEL_LOFT_TYPE","loftIncluded","LABEL_LOFT_AREA","LABEL_LOFT_INSULATED","LABEL_LOFT_INSULATION_PERIOD","_ref5","loftInsulated","LABEL_LOFT_COMMENTS","LABEL_MPR_BENEFICIARY","LABEL_ONE_EURO_BENEFICIARY","LABEL_TAX_NOTICE_NUMBER","_ref6","LABEL_TAX_NOTICE_REFERENCE","_ref7","LABEL_REFERENCE_TAX_INCOME","_ref8","LABEL_BIRTHDATE","_ref9","LABEL_NUMBER_OF_DEPENDENTS","LABEL_STREET_NUMBER","LABEL_STREET_NAME","LABEL_CITY","LABEL_POSTAL_CODE","LABEL_OWNING_TYPE","LABEL_WALL_INSULATION_TYPE","LABEL_HEATING_TYPE","LABEL_OIL_HEATING_TYPE_BOILER","_ref10","heatingType","HEATING_TYPES","GAS","LABEL_WATER_HEATING_TYPE","LABEL_WATER_HEATING_TYPE_SPECIFIED","LABEL_BASEMENT_INCLUDED","LABEL_LOW_FLOOR_INSULATION_PERIOD","_ref11","basementIncluded","LABEL_BASEMENT_AREA_FOR_BOILER","_ref12","LABEL_RADIATOR_TYPE","LABEL_FIREPLACE_INCLUDED","LABEL_PHONE_NUMBER","LABEL_COMMENTS","LABEL_LAST_NAME","LABEL_FIRST_NAME","LABEL_ROLE","LABEL_CONFIRM_PASSWORD","confirmPassword","samePasswords","isNonEmptyString","LABEL_PASSWORDS_ARE_DIFFERENT"],"mappings":"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","file":"static/js/7.6e22c098.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/poeya-logo.404cae44.png\";","import styled from 'styled-components';\nimport colors from '../../../config/colors';\nimport dimensions from '../../../config/dimensions';\nimport { fontSizes } from '../../../config/sizes';\n\nexport const AuthWrapper = styled.div`\n  width: ${dimensions.public.card.width};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: 100vh;\n  .card {\n    border-radius: ${dimensions.defaults.radius.xLarge};\n    box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175);\n  }\n`;\n\nexport const AuthSubTitle = styled.h5`\ntext-align:center;\ncolor: ${colors.cadetBlue};\nfont-weight: normal;\nline-height: 20px;\nfont-size: ${fontSizes.sm};\n\n  }\n`;\nexport const AuthTitle = styled.h1`\ntext-align:center;\ncolor: ${colors.rihno};\nfont-weight: 600;\nfont-size: ${fontSizes.xl};\nline-height: 20px;\nmargin-bottom: 20px;\n  }\n`;\nexport const AuthHeader = styled.div`\n  margin: 25px 0;\n`;\n\nexport const AuthLogo = styled.img`\nborder-radius: 50%;\nmax-width: 70px;\npadding: 4px;\nmargin: -60px auto 0 auto;\ndisplay: block;\nbackground-color: ${colors.white};\n-webkit-box-shadow: 0px 0px 0px 2.25px #f1f5fa;\nbox-shadow: 0px 0px 0px 2.25px #f1f5fa;\n  }\n`;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport poeyaLogo from './assets/poeya-logo.png';\nimport { AuthSubTitle, AuthLogo, AuthWrapper, AuthHeader, AuthTitle } from './SignIn.styled';\n\nimport { signIn } from '../../../store/auth/auth.slice';\nimport { isNonEmptyObject } from '../../../_helpers/dataValidator.helper';\nimport formValidatorHelper from '../../../_helpers/formValidator.helper';\nimport { signInFormFieldsDescriptor } from '../../../_helpers/form_fields_descriptors';\nimport {\n  LABEL_SIGN_IN,\n  LABEL_APP_NAME,\n  LABEL_EMAIL,\n  LABEL_NOT_YET_REGISTERED,\n  LABEL_PASSWORD,\n  LABEL_SIGN_IN_SUB_TITLE,\n  LABEL_CONTACT_ADMINISTRATOR,\n} from '../../../_helpers/labels';\n\nimport { Container, Form, Viewport } from '../../helpers';\nimport { Button, Card, Field, Icon, Text } from '../../library';\nimport useForm from '../../hooks/useForm';\n\nexport default function SignIn() {\n  const dispatch = useDispatch();\n  const { profile } = useSelector((state) => state.core.authState);\n  const { requesting, errors = {} } = useSelector((state) => state.ui.formState);\n  const signInForm = useForm();\n\n  function handleSubmit() {\n    if (requesting) return;\n\n    const { formState } = signInForm;\n    const { validForm, formErrors } = formValidatorHelper.validateForm(formState, signInFormFieldsDescriptor());\n    signInForm.setFormErrors(formErrors);\n    if (validForm) dispatch(signIn(formState));\n  }\n\n  if (isNonEmptyObject(profile)) return <Redirect to=\"/\" />;\n\n  const { formErrors, handleChange } = signInForm;\n\n  return (\n    <Viewport variant=\"public\">\n      <Container variant=\"public\">\n        <AuthWrapper>\n          <Card>\n            <AuthLogo src={poeyaLogo} alt=\"\" />\n            <Form variant=\"public\" onSubmit={handleSubmit}>\n              <AuthHeader>\n                <AuthTitle>{LABEL_APP_NAME}</AuthTitle>\n                <AuthSubTitle>{LABEL_SIGN_IN_SUB_TITLE()}</AuthSubTitle>\n              </AuthHeader>\n\n              <Form.Body variant=\"public\">\n                <Form.Group>\n                  <Field fluid type=\"email\" name=\"email\" label={LABEL_EMAIL()} required error={formErrors.email || errors.email} onChange={handleChange} />\n                </Form.Group>\n                <Form.Group>\n                  <Field fluid type=\"password\" name=\"password\" label={LABEL_PASSWORD()} required error={formErrors.password || errors.password} onChange={handleChange} />\n                </Form.Group>\n              </Form.Body>\n\n              <Form.Footer>\n                <Form.Group fluid>\n                  <Button fluid onClick={handleSubmit}>\n                    {LABEL_SIGN_IN()}\n                    <Icon name=\"login\" />\n                  </Button>\n                </Form.Group>\n                <Form.Group variant=\"inline\" justify=\"center\">\n                  <Text size=\"sm\">{LABEL_CONTACT_ADMINISTRATOR()}</Text>\n\n                  <Text.Label size=\"sm\">{LABEL_NOT_YET_REGISTERED()}</Text.Label>\n                </Form.Group>\n              </Form.Footer>\n            </Form>\n          </Card>\n        </AuthWrapper>\n      </Container>\n    </Viewport>\n  );\n}\n","import { isNullishOrEmpty, isValidEmail, isValidPhone } from './dataValidator.helper';\n\nfunction validateForm(formState = {}, formFields = [], { currentIndex } = {}) {\n  return formFields.reduce(\n    ({ validForm, formErrors }, { property, label, type, fields, validate, required, minLength = 0, ...restProps }) => {\n      const value = formState[property];\n      if (type === 'array') {\n        const arrayValue = value || [Array(minLength).fill({})];\n        arrayValue.forEach((item, index) => {\n          const fieldValidationResult = validateForm(item, fields, { currentIndex: index });\n          validForm = validForm && fieldValidationResult.validForm;\n          if (!validForm) {\n            if (!formErrors[property]) formErrors[property] = {};\n            formErrors[property][index] = fieldValidationResult.formErrors;\n          }\n        });\n      } else {\n        const { validField, errorMessageSuffix } = validateFieldValue(value, { type, required, currentIndex, ...restProps }, formState);\n        validForm = validForm && validField;\n        if (!validField) formErrors[property] = label.concat(errorMessageSuffix);\n      }\n      if (validate) {\n        validForm = validForm && validate(formState, formErrors);\n      }\n\n      return { validForm, formErrors };\n    },\n    { validForm: true, formErrors: {} }\n  );\n}\n\nfunction validateFieldValue(value, field = {}, formState) {\n  const fieldValidation = { validField: true, errorMessageSuffix: '' };\n  const { type, dataType, pattern, required = false, currentIndex } = field;\n\n  validateValueRequirement({ value, required, currentIndex }, fieldValidation, formState);\n  if (!fieldValidation.validField || isNullishOrEmpty(value)) return fieldValidation;\n\n  if (type) validateValueType(value, type, fieldValidation);\n  if (dataType) validateValueDataType(value, dataType, fieldValidation);\n  if (pattern) validateValuePattern(value, pattern, fieldValidation);\n\n  return fieldValidation;\n}\n\nfunction validateValueRequirement({ value, required, currentIndex }, fieldValidation, formState) {\n  const valueRequired = typeof required === 'function' ? required({ ...formState, currentIndex }) : required;\n  if (valueRequired && isNullishOrEmpty(value)) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' obligatoire';\n  }\n}\n\nfunction validateValueType(value, type, fieldValidation) {\n  if (typeof value !== type) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' non valide';\n  }\n}\n\nfunction validateValueDataType(value, dataType, fieldValidation) {\n  const dataTypeValidationStrategies = { email: isValidEmail, phone: isValidPhone };\n  if (!dataType || !Object.keys(dataTypeValidationStrategies).includes(dataType)) return;\n  if (!dataTypeValidationStrategies[dataType](value)) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' non valide';\n  }\n}\n\nfunction validateValuePattern(value, pattern, fieldValidation) {\n  if (pattern && !pattern.test(value)) {\n    fieldValidation.validField = false;\n    fieldValidation.errorMessageSuffix = ' est non valide';\n  }\n}\n\nfunction extractFormStateUpdates(source = {}, formState = {}) {\n  const updates = {};\n  Object.keys(formState).forEach((property) => {\n    if (JSON.stringify(formState[property]) !== JSON.stringify(source[property])) {\n      updates[property] = formState[property];\n    }\n  });\n\n  return updates;\n}\n\nexport default { validateForm, extractFormStateUpdates };\n","import { useState, useCallback } from 'react';\nimport { cloneObject } from '../../_helpers/types.helper';\n\nexport default function ({ onSubmit } = {}) {\n  const [formState, setFormState] = useState({});\n  const [formErrors, setFormErrors] = useState({});\n  const [formDisabledFields, setFormDisabledFields] = useState([]);\n  const [mode, setMode] = useState('');\n\n  const handleChange = useCallback(({ name, value }) => {\n    setFormState((currentFormState) => ({\n      ...currentFormState,\n      [name]: value,\n    }));\n    setFormErrors((currentFormErrors) => {\n      if (currentFormErrors[name]) {\n        const clone = cloneObject(currentFormErrors);\n        delete clone[name];\n\n        return clone;\n      }\n\n      return currentFormErrors;\n    });\n  });\n\n  const handleSubmit = useCallback((evt) => {\n    if (evt) evt.preventDefault();\n    onSubmit(evt);\n  }, []);\n\n  const updateFormState = useCallback((formStateUpdates = {}) => {\n    const clonedStateUpdates = { ...formStateUpdates };\n    const fieldsToDelete = ['id', 'created', 'updated', 'deleted', 'deletedAt'];\n    fieldsToDelete.forEach((field) => delete clonedStateUpdates[field]);\n    setFormState((currentFormState) => ({ ...currentFormState, ...clonedStateUpdates }));\n  }, []);\n\n  const resetFormState = useCallback((formStateUpdates = {}) => {\n    setFormState(formStateUpdates);\n    setFormErrors({});\n  }, []);\n\n  return {\n    formState,\n    formErrors,\n    formDisabledFields,\n    mode,\n    setFormErrors,\n    setFormDisabledFields,\n    handleChange,\n    handleSubmit,\n    updateFormState,\n    resetFormState,\n    setMode,\n  };\n}\n","import { LANGUAGES } from '../enums';\nimport { LABEL_EMAIL, LABEL_PASSWORD } from '../labels';\n\nexport default function ({ language = LANGUAGES.FR } = {}) {\n  return [\n    {\n      property: 'email',\n      type: 'string',\n      label: LABEL_EMAIL({ language }),\n      required: true,\n    },\n    {\n      property: 'password',\n      type: 'string',\n      label: LABEL_PASSWORD({ language }),\n      required: true,\n    },\n  ];\n}\n","import { HEATING_TYPES, LANGUAGES } from '../enums';\nimport {\n  LABEL_BASEMENT_AREA_FOR_BOILER,\n  LABEL_BASEMENT_INCLUDED,\n  LABEL_BIRTHDATE,\n  LABEL_BUILDING_AGE,\n  LABEL_CITY,\n  LABEL_COMMENTS,\n  LABEL_FIREPLACE_INCLUDED,\n  LABEL_FULL_NAME,\n  LABEL_HEATING_TYPE,\n  LABEL_LIVING_SPACE_AREA,\n  LABEL_LOFT_AREA,\n  LABEL_LOFT_COMMENTS,\n  LABEL_LOFT_INCLUDED,\n  LABEL_LOFT_INSULATED,\n  LABEL_LOFT_INSULATION_PERIOD,\n  LABEL_LOFT_TYPE,\n  LABEL_LOW_FLOOR_INSULATION_PERIOD,\n  LABEL_MPR_BENEFICIARY,\n  LABEL_NUMBER_OF_DEPENDENTS,\n  LABEL_OIL_HEATING_TYPE_BOILER,\n  LABEL_ONE_EURO_BENEFICIARY,\n  LABEL_OPERATION_TYPE,\n  LABEL_OWNING_TYPE,\n  LABEL_PHONE_NUMBER,\n  LABEL_POSTAL_CODE,\n  LABEL_RADIATOR_TYPE,\n  LABEL_REFERENCE_TAX_INCOME,\n  LABEL_STREET_NAME,\n  LABEL_STREET_NUMBER,\n  LABEL_TAX_NOTICE_NUMBER,\n  LABEL_TAX_NOTICE_REFERENCE,\n  LABEL_WALL_INSULATION_TYPE,\n  LABEL_WATER_HEATING_TYPE,\n  LABEL_WATER_HEATING_TYPE_SPECIFIED,\n} from '../labels';\n\nexport default function ({ language = LANGUAGES.FR } = {}) {\n  return [\n    {\n      property: 'operationType',\n      type: 'string',\n      label: LABEL_OPERATION_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'fullName',\n      type: 'string',\n      label: LABEL_FULL_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'buildingAge',\n      type: 'string',\n      label: LABEL_BUILDING_AGE({ language }),\n      required: true,\n    },\n    {\n      property: 'livingSpaceArea',\n      type: 'number',\n      label: LABEL_LIVING_SPACE_AREA({ language }),\n      required: true,\n    },\n    {\n      property: 'loftIncluded',\n      type: 'boolean',\n      label: LABEL_LOFT_INCLUDED({ language }),\n      required: true,\n    },\n    {\n      property: 'loftType',\n      type: 'string',\n      label: LABEL_LOFT_TYPE({ language }),\n      required({ loftIncluded }) {\n        return loftIncluded;\n      },\n    },\n    {\n      property: 'loftArea',\n      type: 'number',\n      label: LABEL_LOFT_AREA({ language }),\n      required({ loftIncluded }) {\n        return loftIncluded;\n      },\n    },\n    {\n      property: 'loftInsulated',\n      type: 'boolean',\n      label: LABEL_LOFT_INSULATED({ language }),\n      required({ loftIncluded }) {\n        return loftIncluded;\n      },\n    },\n    {\n      property: 'loftInsulationPeriod',\n      type: 'string',\n      label: LABEL_LOFT_INSULATION_PERIOD({ language }),\n      required({ loftInsulated }) {\n        return loftInsulated;\n      },\n    },\n    {\n      property: 'loftComments',\n      type: 'string',\n      label: LABEL_LOFT_COMMENTS({ language }),\n    },\n    {\n      property: 'mprBeneficiary',\n      type: 'boolean',\n      label: LABEL_MPR_BENEFICIARY({ language }),\n      required: true,\n    },\n    {\n      property: 'oneEuroBeneficiary',\n      type: 'boolean',\n      label: LABEL_ONE_EURO_BENEFICIARY({ language }),\n      required: true,\n    },\n    {\n      property: 'occupants',\n      type: 'array',\n      required: true,\n      minLength: 1,\n      fields: [\n        {\n          property: 'taxNoticeNumber',\n          type: 'string',\n          label: LABEL_TAX_NOTICE_NUMBER({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n        {\n          property: 'taxNoticeReference',\n          type: 'string',\n          label: LABEL_TAX_NOTICE_REFERENCE({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n        {\n          property: 'referenceTaxIncome',\n          type: 'number',\n          label: LABEL_REFERENCE_TAX_INCOME({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n        {\n          property: 'birthDate',\n          type: 'object',\n          label: LABEL_BIRTHDATE({ language }),\n          required({ currentIndex }) {\n            return currentIndex === 0;\n          },\n        },\n      ],\n    },\n    {\n      property: 'numberOfDependents',\n      type: 'number',\n      label: LABEL_NUMBER_OF_DEPENDENTS({ language }),\n      required: true,\n    },\n    {\n      property: 'streetNumber',\n      type: 'string',\n      label: LABEL_STREET_NUMBER({ language }),\n      required: true,\n    },\n    {\n      property: 'streetName',\n      type: 'string',\n      label: LABEL_STREET_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'city',\n      type: 'string',\n      label: LABEL_CITY({ language }),\n      required: true,\n    },\n    {\n      property: 'postalCode',\n      type: 'string',\n      label: LABEL_POSTAL_CODE({ language }),\n      required: true,\n    },\n    {\n      property: 'owningType',\n      type: 'string',\n      label: LABEL_OWNING_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'wallInsulationType',\n      type: 'string',\n      label: LABEL_WALL_INSULATION_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'heatingType',\n      type: 'string',\n      label: LABEL_HEATING_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'oilHeatingTypeBoiler',\n      type: 'boolean',\n      label: LABEL_OIL_HEATING_TYPE_BOILER({ language }),\n      required({ heatingType }) {\n        return heatingType === HEATING_TYPES.GAS;\n      },\n    },\n    {\n      property: 'waterHeatingType',\n      type: 'string',\n      label: LABEL_WATER_HEATING_TYPE({ language }),\n      required: true,\n    },\n    {\n      property: 'waterHeatingTypeSpecified',\n      type: 'string',\n      label: LABEL_WATER_HEATING_TYPE_SPECIFIED({ language }),\n    },\n    {\n      property: 'basementIncluded',\n      type: 'boolean',\n      label: LABEL_BASEMENT_INCLUDED({ language }),\n      required: true,\n    },\n    {\n      property: 'lowFloorInsulationPeriod',\n      type: 'string',\n      label: LABEL_LOW_FLOOR_INSULATION_PERIOD({ language }),\n      required({ basementIncluded }) {\n        return basementIncluded;\n      },\n    },\n    {\n      property: 'basementAreaForBoiler',\n      type: 'boolean',\n      label: LABEL_BASEMENT_AREA_FOR_BOILER({ language }),\n      required({ basementIncluded }) {\n        return basementIncluded;\n      },\n    },\n    {\n      property: 'radiatorType',\n      type: 'string',\n      label: LABEL_RADIATOR_TYPE({ language }),\n    },\n    {\n      property: 'fireplaceIncluded',\n      type: 'boolean',\n      label: LABEL_FIREPLACE_INCLUDED({ language }),\n      required: true,\n    },\n    {\n      property: 'phone',\n      type: 'string',\n      dataType: 'phone',\n      label: LABEL_PHONE_NUMBER({ language }),\n      required: true,\n    },\n    {\n      property: 'comments',\n      type: 'string',\n      label: LABEL_COMMENTS({ language }),\n    },\n  ];\n}\n","import { isNonEmptyString } from '../dataValidator.helper';\nimport { LANGUAGES } from '../enums';\nimport { LABEL_CONFIRM_PASSWORD, LABEL_EMAIL, LABEL_FIRST_NAME, LABEL_LAST_NAME, LABEL_PASSWORD, LABEL_PASSWORDS_ARE_DIFFERENT, LABEL_ROLE } from '../labels';\n\nexport default function ({ language = LANGUAGES.FR } = {}) {\n  return [\n    {\n      property: 'lastName',\n      type: 'string',\n      label: LABEL_LAST_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'firstName',\n      type: 'string',\n      label: LABEL_FIRST_NAME({ language }),\n      required: true,\n    },\n    {\n      property: 'role',\n      type: 'string',\n      label: LABEL_ROLE({ language }),\n      required: true,\n    },\n    {\n      property: 'email',\n      type: 'string',\n      dataType: 'email',\n      label: LABEL_EMAIL({ language }),\n      required: true,\n    },\n    {\n      property: 'password',\n      type: 'string',\n      label: LABEL_PASSWORD({ language }),\n      required: true,\n    },\n    {\n      property: 'confirmPassword',\n      type: 'string',\n      label: LABEL_CONFIRM_PASSWORD({ language }),\n      required: true,\n      validate({ password, confirmPassword }, formErrors = {}) {\n        const samePasswords = isNonEmptyString(password) && isNonEmptyString(confirmPassword) && password === confirmPassword;\n        if (!samePasswords) formErrors.confirmPassword = LABEL_PASSWORDS_ARE_DIFFERENT({ language });\n\n        return samePasswords;\n      },\n    },\n  ];\n}\n"],"sourceRoot":""}